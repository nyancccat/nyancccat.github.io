<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>自建 VaultWarden 密码管理器 - 晴空小筑</title><meta name=author content="pagezen">
<meta name=author-link content="http://clearsky.me/"><meta name=description content="自建 VaultWarden 密码管理器"><meta name=keywords content="VaultWarden,Bitwarden"><meta itemprop=name content="自建 VaultWarden 密码管理器"><meta itemprop=description content="自建 VaultWarden 密码管理器"><meta itemprop=datePublished content="2023-12-14T16:04:40+08:00"><meta itemprop=dateModified content="2023-12-15T00:47:33+08:00"><meta itemprop=wordCount content="2090"><meta itemprop=image content="https://clearsky.me/logo.png"><meta itemprop=keywords content="VaultWarden,Bitwarden,"><meta property="og:title" content="自建 VaultWarden 密码管理器"><meta property="og:description" content="自建 VaultWarden 密码管理器"><meta property="og:type" content="article"><meta property="og:url" content="https://clearsky.me/vaultwarden/"><meta property="og:image" content="https://clearsky.me/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-14T16:04:40+08:00"><meta property="article:modified_time" content="2023-12-15T00:47:33+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://clearsky.me/logo.png"><meta name=twitter:title content="自建 VaultWarden 密码管理器"><meta name=twitter:description content="自建 VaultWarden 密码管理器"><meta name=application-name content="晴空小筑"><meta name=apple-mobile-web-app-title content="晴空小筑"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://clearsky.me/vaultwarden/><link rel=prev href=https://clearsky.me/redis-install/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"自建 VaultWarden 密码管理器","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/clearsky.me\/vaultwarden\/"},"genre":"posts","keywords":"VaultWarden,Bitwarden","wordcount":2090,"url":"https:\/\/clearsky.me\/vaultwarden\/","datePublished":"2023-12-14T16:04:40+08:00","dateModified":"2023-12-15T00:47:33+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"pagezen"},"description":"自建 VaultWarden 密码管理器"}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class="header-title header__verification"><a href=/ title=晴空小筑><span class=header-title-pre><i class='fas fa-code'></i> </span><span id=typeit-header-desktop class=typeit></span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/><i class='fas fa-home'></i> 首页</a></li><li class=menu-item><a class=menu-link href=/posts><i class='fas fa-clock'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/toot><i class='fa-brands fa-mastodon'></i> 嘟嘟</a></li><li class=menu-item><a class=menu-link href=/categories/><i class='fas fa-book'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags><i class='fas fa-tags'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/friends><i class='fa-solid fa-users fa-fw fa-sm'></i> 友链</a></li><li class=menu-item><a class=menu-link href=/about><i class='fas fa-user-tie'></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=在这里搜索一下... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class=menu-item><a class='fa-solid fa-expand' href=javascript:; onclick=tofullScreen() title=全屏阅读></a></li><li class=menu-item><a class='fa-regular fa-thumbs-up fa-bounce' href=javascript:; onclick=randomPost() title=随机访问一篇文章></a></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=晴空小筑><span class=header-title-pre><i class='fas fa-code'></i> </span><span id=typeit-header-title-mobile class=typeit></span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=在这里搜索一下... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/><i class='fas fa-home'></i> 首页</a></li><li class=menu-item><a class=menu-link href=/posts><i class='fas fa-clock'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/toot><i class='fa-brands fa-mastodon'></i> 嘟嘟</a></li><li class=menu-item><a class=menu-link href=/categories/><i class='fas fa-book'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags><i class='fas fa-tags'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/friends><i class='fa-solid fa-users fa-fw fa-sm'></i> 友链</a></li><li class=menu-item><a class=menu-link href=/about><i class='fas fa-user-tie'></i> 关于</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC&display=swap" rel=stylesheet><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".ai-explanation-content").textContent;new TypeIt("#ai-explanation",{strings:e,speed:40,lifeLike:!0,waitUntilVisible:!0}).go()})</script><script src=../js/instantpage.min.js></script></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=/ title=晴空小筑>主页</a></li><li class=breadcrumb-item><a href=/posts/ title=文章>文章</a></li><li class="breadcrumb-item active" aria-current=page>自建 VaultWarden 密码管理器</li></ol></nav><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>自建 VaultWarden 密码管理器</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=http://clearsky.me/ title=作者 target=_blank rel="external nofollow noopener noreferrer author" class=author><img loading=lazy src="https://gravatar.loli.net/avatar/e99a2f3e251df360c9ec3b2e50648c15?s=32&amp;d=mp" data-title=pagezen data-alt=pagezen class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;pagezen</a></span>
<span class=post-category>收录于 <a href=/categories/%E5%AD%A6%E4%B9%A0%E5%A4%87%E5%BF%98/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 学习备忘</a></span></div><div class=post-meta-line><span title="发布于 2023-12-14 16:04:40"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2023-12-14>2023-12-14</time></span>&nbsp;<span title="更新于 2023-12-15 00:47:33"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2023-12-15>2023-12-15</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>2090 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 5 分钟</span>&nbsp;<span id=/vaultwarden/ class=comment-visitors data-flag-title="自建 VaultWarden 密码管理器">
<i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=twikoo_visitors>-</span>&nbsp;次阅读
</span>&nbsp;<span id=/vaultwarden/ class=comment-count data-flag-title="自建 VaultWarden 密码管理器">
<i class="fa-regular fa-comments fa-fw me-1" aria-hidden=true></i><span id=twikoo-comment-count>-</span>&nbsp;条评论
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#起因>起因</a></li><li><a href=#需求>需求</a></li><li><a href=#bitwarden>Bitwarden</a></li><li><a href=#vaultwarden>Vaultwarden</a><ul><li><a href=#安装>安装</a></li><li><a href=#启用-https>启用 HTTPS</a></li><li><a href=#vaultwarden-设置>Vaultwarden 设置</a><ul><li><a href=#禁用新用户注册>禁用新用户注册</a></li><li><a href=#禁用邀请>禁用邀请</a></li><li><a href=#启用管理页面>启用管理页面</a></li><li><a href=#启用移动客户端推送通知>启用移动客户端推送通知</a></li><li><a href=#smtp-配置>SMTP 配置</a></li></ul></li><li><a href=#vaultwarden-插件和各端-app-下载>Vaultwarden 插件和各端 APP 下载</a></li></ul></li><li><a href=#vaultwarden-使用>Vaultwarden 使用</a></li><li><a href=#导入-lastpass-密码库>导入 LastPass 密码库</a><ul><li><a href=#从-lastpass-导出>从 LastPass 导出</a></li><li><a href=#vaultwarden-导入>Vaultwarden 导入</a></li></ul></li><li><a href=#vaultwarden-工具>Vaultwarden 工具</a></li></ul></nav></div></div><div class=post-ai><div class=ai-title><i class="fas fa-robot ai-title-icon"></i><div class=ai-title-text>AI 摘要</div></div><div id=ai-explanation class=ai-explanation></div><div class="ai-explanation ai-explanation-content" style=display:none>AI 摘要接口暂时失联……</div></div><div class=content id=content data-end-flag=" ------------- 文章结束，感谢您的阅读。 ------------- "><h2 id=起因>起因</h2><p>这么多年上网，注册的网站不少，为了<del>密码安全</del>节省输入密码时间，一直使用 LastPass 来管理密码，配合浏览器扩展登录各类网站时候非常丝滑，用了这么多年 LastPass 也一直没怎么关注它，中间还说过收费但是我浏览器扩展一直在用也没见有什么影响，这两天闲来无事网上翻翻才知道它已经有过多次密码泄露事件了，还有，也许是我经常更换 IP 的原因，LastPass 经常要求授权验证，体验相当糟糕，于是想着换成其他的，反正这类工具大同小异，对我来说能用就行，网上搜类似服务的时候看到有人提到<strong>密码数据这么私密，为什么不掌握在自己手中</strong>，想想说的也是，刚好手头上有一台闲置的 VPS 吃灰好久了，于是打算拿来自建一个密码管理器使用。</p><h2 id=需求>需求</h2><ul><li>自托管控制：能够保持对密码管理器基础设施的完全控制，托管在您自己的服务器或受信任的云服务上，确保您的敏感数据保留在您的手中。</li><li>跨平台可用性：支持多种平台，包括 Windows、macOS、Linux、iOS 和 Android。可以从台式计算机、笔记本电脑和移动设备方便地访问您的密码和安全信息。</li><li>加密安全：采用最先进的加密技术。确保密码和敏感信息在安全传输并存储在服务器上进行本地加密。</li><li>支持浏览器扩展：为浏览器提供浏览器扩展，提供用户友好的体验。</li></ul><h2 id=bitwarden>Bitwarden</h2><p>先看了 Bitwarden，但是一看官网文档推荐安装配置：</p><table><thead><tr><th style=text-align:left>System specifications</th><th style=text-align:center>Minimum</th><th style=text-align:center>Recommended</th></tr></thead><tbody><tr><td style=text-align:left>Processor</td><td style=text-align:center>x64, 1.4GHz</td><td style=text-align:center>x64, 2GHz dual core</td></tr><tr><td style=text-align:left>Memory</td><td style=text-align:center>2GB RAM</td><td style=text-align:center>4GB RAM</td></tr><tr><td style=text-align:left>Storage</td><td style=text-align:center>12GB</td><td style=text-align:center>25GB</td></tr><tr><td style=text-align:left>Docker Version</td><td style=text-align:center>Engine 19+ and Compose 1.24+</td><td style=text-align:center>Engine 19+ and Compose 1.24+</td></tr></tbody></table><p>再看看我手头上这台 VPS，1 核 1G 内存，硬盘才 16G，安装这个这个怕是太勉强了，果断放弃。</p><h2 id=vaultwarden>Vaultwarden</h2><p>Vaultwarden 是一个使用 Rust 编写的非官方 Bitwarden 服务器实现，它与官方 Bitwarden 客户端兼容，非常适合不希望运行官方的占用大量资源的自托管部署，它是理想的选择。Vaultwarden 面向个人、家庭和小型组织。</p><p>使用 Vaultwarden 这个第三方项目优势很明显：</p><ul><li>和官方服务拥有相同的安全性。</li><li>可完美兼容 Bitwarden 全平台客户端。</li><li>安装所需的系统环境门槛更低，运行消耗资源更少。</li><li>完全免费，默认就有了官方 Bitwarden 付费版的全部功能。</li></ul><h3 id=安装>安装</h3><p>关于 Vaultwarden 一些链接：</p><ul><li><a href=https://github.com/dani-garcia/vaultwarden target=_blank rel="external nofollow noopener noreferrer">Vaultwarden Github<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></li><li><a href=https://hub.docker.com/r/vaultwarden/server target=_blank rel="external nofollow noopener noreferrer">Vaultwarden Docker Hub<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></li><li><a href=https://github.com/dani-garcia/vaultwarden/wiki target=_blank rel="external nofollow noopener noreferrer">Vaultwarden Wiki<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></li></ul><p>我使用的是 Docker 部署安装，之前的版本（v1.29.0 前）需要环境变量设置开启 WebSocket，主要是为了多端同步，安装时候要多开一个端口（默认是 3012）给 WebSocket 运行，自 Vaultwarden v1.29.0 之后的版本开始，WebSocket 默认启用，且不需要开设单独端口。</p><p>我本身用着 1Panel 面板，直接新添加一个网站，绑定域名，如 <code>vw.yourdomain.com</code>,类型选择反向代理，代理端口 8087 （这个随意设置）。</p><p><figure><a class=lightgallery href="/vaultwarden/Reverse_proxy.webp?size=large" data-thumbnail="/vaultwarden/Reverse_proxy.webp?size=small" data-sub-html="<h2>反向代理设置</h2><p>Reverse_proxy</p>"><img loading=lazy src=/vaultwarden/Reverse_proxy.webp srcset="/vaultwarden/Reverse_proxy.webp?size=small, /vaultwarden/Reverse_proxy.webp?size=medium 1.5x, /vaultwarden/Reverse_proxy.webp?size=large 2x" sizes=auto data-title=Reverse_proxy data-alt=反向代理设置 style="--width:1719px;--aspect-ratio:1719 / 755;background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>反向代理设置</figcaption></figure></p><p>进入网站目录，拉取镜像执行。</p><div class=highlight id=id-1><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker pull vaultwarden/server:latest
</span></span><span class=line><span class=cl>docker run -d --name vaultwarden -v ./vw-data/:/data/ --restart unless-stopped -p 8087:80 vaultwarden/server:latest</span></span></code></pre></td></tr></table></div></div><p>这里端口设置记得和上面的代理端口一样，为 <code>8087</code>，不出意外的话，Vaultwarden 已经运行了，数据保存在当前目录 <code>/vw-data/</code>。</p><h3 id=启用-https>启用 HTTPS</h3><p>要正常使用 Vaultwarden，还需要启用 HTTPS，就是给绑定域名申请个证书，原因来自官方 Wiki:</p><blockquote><p>For proper operation of vaultwarden, enabling HTTPS is pretty much required nowadays, since the Bitwarden web vault uses web crypto APIs that most browsers only make available in HTTPS contexts.</p></blockquote><p>使用 1Panel 面板就很简单了，一键为绑定域名申请并自动续签 Let’s Encrypt 证书，略。</p><p>添加完证书打开 <code>vw.yourdomain.com</code>，就可以看到 Vaultwarden 登录界面了。</p><p><figure><a class=lightgallery href="/vaultwarden/vaultwarden-login.webp?size=large" data-thumbnail="/vaultwarden/vaultwarden-login.webp?size=small" data-sub-html="<h2>Vaultwarden 登录界面</h2><p>Vaultwarden 登录界面</p>"><img loading=lazy src=/vaultwarden/vaultwarden-login.webp srcset="/vaultwarden/vaultwarden-login.webp?size=small, /vaultwarden/vaultwarden-login.webp?size=medium 1.5x, /vaultwarden/vaultwarden-login.webp?size=large 2x" sizes=auto data-title="Vaultwarden 登录界面" data-alt="Vaultwarden 登录界面" style="--width:1070px;--aspect-ratio:1070 / 708;background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>Vaultwarden 登录界面</figcaption></figure></p><h3 id=vaultwarden-设置>Vaultwarden 设置</h3><p>可以在构建时候命令设置环境变量，或者写一个 Docker-Composer 部署，因为我是用的 1Panel 面板，Docker 管理很方便，所以我一般比较喜欢先跑起来再说，再在面板 Docker 管理器慢慢设置环境变量，下面列举常用的一些设置：</p><h4 id=禁用新用户注册>禁用新用户注册</h4><p>SIGNUPS_ALLOWED=false</p><p>我没有禁止，地址发给朋友，范围使用。</p><h4 id=禁用邀请>禁用邀请</h4><p>INVITATIONS_ALLOWED=false</p><h4 id=启用管理页面>启用管理页面</h4><p>管理页面允许服务器管理员查看并删除所有已注册的用户，也可以在此界面设置一些如开启邀请、禁用注册等功能，我没有开启，感觉还不如设置环境变量方便。</p><p>要启用管理页面，您需要设置一组身份验证令牌。该令牌可以是任何字符，但建议使用随机生成的长字符串，比如运行 <code>openssl rand -base64 48</code> 命令生成。</p><p>ADMIN_TOKEN=some_random_token_as_per_above_explanation</p><p>然后在域名后面加上 <code>/admin</code>，就可以登录 Vaultwarden 管理后台，登陆验证为为刚刚设置的 <code>ADMIN_TOKEN</code>。</p><p>如果取消，则取消设置 ADMIN_TOKEN 并重启 Vaultwarden。</p><h4 id=启用移动客户端推送通知>启用移动客户端推送通知</h4><p>为了移动客户端也能实时同步密码库，需要启用移动客户端推送通知，访问<a href=https://bitwarden.com/host/ target=_blank rel="external nofollow noopener noreferrer">这里<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>，输入您的电子邮件地址，地区选择 United States，提交后会获得一个 <code>INSTALLATION_ID</code> 和 <code>INSTALLATION_KEY</code>。然后，环境变量里面设置：</p><p>PUSH_ENABLED=true</p><p>PUSH_INSTALLATION_ID=xxx // 刚才得到的 ID</p><p>PUSH_INSTALLATION_KEY=xxx // 刚才得到的 KEY</p><h4 id=smtp-配置>SMTP 配置</h4><p>SMTP_HOST=&lt;smtp.domain.tld></p><p>SMTP_FROM=<a href=mailto:vaultwarden@domain.tld>vaultwarden@domain.tld</a></p><p>SMTP_PORT=port</p><p>SMTP_SECURITY=starttls</p><p>SMTP_USERNAME=username</p><p>SMTP_PASSWORD=password</p><p>这里是完整的环境变量设置，<a href=https://github.com/dani-garcia/vaultwarden/blob/main/.env.template target=_blank rel="external nofollow noopener noreferrer">vultwarden/.env.template<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>，可以仔细看看。</p><h3 id=vaultwarden-插件和各端-app-下载>Vaultwarden 插件和各端 APP 下载</h3><p>Vaultwarden 可完美兼容 Bitwarden 全平台客户端。所以直接使用 Bitwarden 的即可。</p><ul><li><a href="https://play.google.com/store/apps/details?id=com.x8bit.bitwarden" target=_blank rel="external nofollow noopener noreferrer">Google Play<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></li><li><a href=https://apps.apple.com/us/app/bitwarden-password-manager/id1137397744 target=_blank rel="external nofollow noopener noreferrer">Apple Store<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></li><li><a href=https://bitwarden.com/download/ target=_blank rel="external nofollow noopener noreferrer">Bitwarden 官方下载页<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></li><li><a href="https://chromewebstore.google.com/detail/bitwarden-%E5%85%8D%E8%B4%B9%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86%E5%99%A8/nngceckbapebfimnlniiiahkandclblb?pli=1" target=_blank rel="external nofollow noopener noreferrer">Google Chrome 应用商店<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></li><li><a href=https://microsoftedge.microsoft.com/addons/detail/bitwarden-%E5%85%8D%E8%B4%B9%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86%E5%99%A8/jbkfoedolllekgbhcbcoahefnbanhhlh target=_blank rel="external nofollow noopener noreferrer">Microsoft Edge 应用商店<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></li></ul><h2 id=vaultwarden-使用>Vaultwarden 使用</h2><p>日常使用和 LastPass 软件这类没什么区别，如我常用的浏览器扩展，登录时候选择自托管，输入绑定域名就可以了,设置个主密码就可以了。</p><p><figure><a class=lightgallery href="/vaultwarden/vaultwarden-kz.webp?size=large" data-thumbnail="/vaultwarden/vaultwarden-kz.webp?size=small" data-sub-html="<h2>浏览器扩展</h2><p>vaultwarden-kz.webp</p>"><img loading=lazy src=/vaultwarden/vaultwarden-kz.webp srcset="/vaultwarden/vaultwarden-kz.webp?size=small, /vaultwarden/vaultwarden-kz.webp?size=medium 1.5x, /vaultwarden/vaultwarden-kz.webp?size=large 2x" sizes=auto data-title=vaultwarden-kz.webp data-alt=浏览器扩展 style="--width:561px;--aspect-ratio:561 / 900;background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>浏览器扩展</figcaption></figure></p><h2 id=导入-lastpass-密码库>导入 LastPass 密码库</h2><h3 id=从-lastpass-导出>从 LastPass 导出</h3><p>登录 LastPass 网页版，边栏选择 Advanced Options 选项，选择 Export 选项导出（CSV）。</p><h3 id=vaultwarden-导入>Vaultwarden 导入</h3><p>各端的设置-导入项目-格式选择 LastPass 导入上面的 CSV 文件。</p><h2 id=vaultwarden-工具>Vaultwarden 工具</h2><p>我密码数据大概 260+，好多页面都打不开了，趁着有心情就整理一下分个类什么的，整理的时候发现 Vaultwarden 有一些工具，有个暴露检测，拿来试试。</p><p><figure><a class=lightgallery href="/vaultwarden/vaultwarden-tools.webp?size=large" data-thumbnail="/vaultwarden/vaultwarden-tools.webp?size=small" data-sub-html="<h2>Vaultwarden 工具</h2><p>vaultwarden-tools.webp</p>"><img loading=lazy src=/vaultwarden/vaultwarden-tools.webp srcset="/vaultwarden/vaultwarden-tools.webp?size=small, /vaultwarden/vaultwarden-tools.webp?size=medium 1.5x, /vaultwarden/vaultwarden-tools.webp?size=large 2x" sizes=auto data-title=vaultwarden-tools.webp data-alt="Vaultwarden 工具" style="--width:1188px;--aspect-ratio:1188 / 980;background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>Vaultwarden 工具</figcaption></figure></p><p>检测结果：</p><p><figure><a class=lightgallery href="/vaultwarden/vaultwarden-report.webp?size=large" data-thumbnail="/vaultwarden/vaultwarden-report.webp?size=small" data-sub-html="<h2>暴露密码检测报告</h2><p>vaultwarden-report.webp</p>"><img loading=lazy src=/vaultwarden/vaultwarden-report.webp srcset="/vaultwarden/vaultwarden-report.webp?size=small, /vaultwarden/vaultwarden-report.webp?size=medium 1.5x, /vaultwarden/vaultwarden-report.webp?size=large 2x" sizes=auto data-title=vaultwarden-report.webp data-alt=暴露密码检测报告 style="--width:1486px;--aspect-ratio:1486 / 1066;background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>暴露密码检测报告</figcaption></figure></p><p>抽空把一些比较重要的改一下吧，这次全部大小写字母 + 数字 + 特殊符号 + 18 位数随机生成了。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2023-12-15 00:47:33">更新于 2023-12-15&nbsp;<a class=git-hash href=https://github.com/nyancccat/hugo-blog-source/commit/17edacb0cfe893906c8cf2afb890034ced5c6c5b rel="external nofollow noopener noreferrer" target=_blank title="commit by nyancccat(theqee@gmail.com) 17edacb0cfe893906c8cf2afb890034ced5c6c5b: :black_nib: update 2023-12-15 Fri 00:47:33"><i class="fa-solid fa-hashtag fa-fw" aria-hidden=true></i>17edacb</a></span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/vaultwarden/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span><span><a href=https://github.com/nyancccat/hugo-blog-source/edit/master/content/posts/20231214-%e8%87%aa%e5%bb%ba%20VaultWarden%20%e5%af%86%e7%a0%81%e7%ae%a1%e7%90%86%e5%99%a8/index.md title=编辑此页 target=_blank rel="external nofollow noopener noreferrer" class=link-to-edit>编辑此页</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://clearsky.me/vaultwarden/ data-title="自建 VaultWarden 密码管理器" data-hashtags=VaultWarden,Bitwarden><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://clearsky.me/vaultwarden/ data-hashtag=VaultWarden,Bitwarden><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 WhatsApp" data-sharer=whatsapp data-url=https://clearsky.me/vaultwarden/ data-title="自建 VaultWarden 密码管理器" data-web><i class="fa-brands fa-whatsapp fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=https://clearsky.me/vaultwarden/ data-title="自建 VaultWarden 密码管理器"><i data-svg-src=/lib/simple-icons/icons/line.min.svg aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://clearsky.me/vaultwarden/ data-title="自建 VaultWarden 密码管理器"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Myspace" data-sharer=myspace data-url=https://clearsky.me/vaultwarden/ data-title="自建 VaultWarden 密码管理器" data-description="自建 VaultWarden 密码管理器"><i data-svg-src=/lib/simple-icons/icons/myspace.min.svg aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Blogger" data-sharer=blogger data-url=https://clearsky.me/vaultwarden/ data-title="自建 VaultWarden 密码管理器" data-description="自建 VaultWarden 密码管理器"><i class="fa-brands fa-blogger fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://clearsky.me/vaultwarden/ data-title="自建 VaultWarden 密码管理器"><i class="fa-brands fa-evernote fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/vaultwardenbitwarden/ class=post-tag>VaultWarden,Bitwarden</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/redis-install/ class=post-nav-item rel=prev title="简单记录 Redis 安装"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>简单记录 Redis 安装</a></div></div><div id=comments><div id=twikoo></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://twikoo.js.org/ rel="external nofollow noopener noreferrer">Twikoo</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom"><span id=run-time></span></div><div class="footer-line powered order-1">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.121.1">Hugo</a> 驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.18-lts.5"><img class=fixit-icon src=/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a>
| 托管于 <a title="Github Pages" href=https://docs.github.com/en/pages/ target=_blank rel="noopener noreffer">GitHub Pages</a>
| 感谢 <a title=BlogCDN href=https://blog.tanglu.me/blogcdn/ target=_blank rel="noopener noreffer">BlogCDN</a> 防护</div><div class="footer-line copyright order-2" itemscope itemtype=http://schema.org/CreativeWork><a href="https://ipw.cn/ssl/?site=clearsky.me" title=本站支持SSL安全访问 target=_blank class=icon_ip rel="noopener noreferrer">SSL</a>
<i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2009 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=http://clearsky.me/ target=_blank rel="external nofollow noopener noreferrer">pagezen</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a> <a href="https://ipw.cn/ipv6webcheck/?site=clearsky.me" title=本站支持IPv6访问 target=_blank class=icon_ip>IPv6</a></span></div><div class="footer-line statistics order-3"></div></div></footer><script>var meting_api="https://api.injahow.cn/meting/?server=:server&type=:type&id=:id&auth=:auth&r=:r";function randomPost(){fetch("/sitemap.xml").then(e=>e.text()).then(e=>(new window.DOMParser).parseFromString(e,"text/xml")).then(e=>{let s=e.querySelectorAll("url loc"),n,t;do n=s[Math.floor(Math.random()*s.length)].innerHTML,t=n.split("/")[3]||"";while(t==""||t=="tags"||t=="posts"||t=="categories"||t=="friends"||t=="toot"||t=="about")location.href=n})}function tofullScreen(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}</script></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label=查看评论><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/nyancccat/ title="在 GitHub 上查看源代码" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/lightgallery/css/lightgallery-bundle.min.css><link rel=stylesheet href=/lib/pace/themes/blue/pace-theme-minimal.css><script src=/lib/twikoo/twikoo.all.min.js defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/fuse/fuse.min.js defer></script><script src=/lib/twemoji/twemoji.min.js defer></script><script src=/lib/lightgallery/lightgallery.min.js defer></script><script src=/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=/lib/lightgallery/plugins/zoom/lg-zoom.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/typeit/index.umd.js defer></script><script src=/lib/pangu/pangu.min.js defer></script><script src=/lib/pace/pace.min.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:80},comment:{enable:!0,expired:!1,twikoo:{commentCount:!0,el:"#twikoo",envId:"https://twikoo.clearsky.me/",lang:"zh-cn"}},data:{"typeit-header-desktop":"晴空小筑","typeit-header-title-mobile":"晴空小筑"},lightgallery:!0,pangu:{enable:!0,selector:"article"},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!0,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:50,threshold:.3,type:"fuse",useExtendedSearch:!1},twemoji:!0,typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"typeit-header-desktop":["typeit-header-desktop"],"typeit-header-title-mobile":["typeit-header-title-mobile"]},duration:-1,loop:!1,speed:100}}</script><script src=/js/theme.min.js defer></script><script src=/js/custom.min.js defer></script></body></html>