<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>VPS 压力测试工具 siege 和 httpbench - 晴空小筑</title><meta name=author content="u0defined"><meta name=author-link content="http://clearsky.me/"><meta name=description content="VPS 压力测试工具s iege 和 httpbench"><meta name=keywords content="httpbench,siege,VPS"><meta itemprop=name content="VPS 压力测试工具 siege 和 httpbench"><meta itemprop=description content="VPS 压力测试工具s iege 和 httpbench"><meta itemprop=datePublished content="2014-07-12T11:58:21+00:00"><meta itemprop=dateModified content="2023-05-02T19:18:14+08:00"><meta itemprop=wordCount content="1803"><meta itemprop=image content="https://clearsky.me/logo.png"><meta itemprop=keywords content="httpbench,siege,VPS,"><meta property="og:title" content="VPS 压力测试工具 siege 和 httpbench"><meta property="og:description" content="VPS 压力测试工具s iege 和 httpbench"><meta property="og:type" content="article"><meta property="og:url" content="https://clearsky.me/webserver-test/"><meta property="og:image" content="https://clearsky.me/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-07-12T11:58:21+00:00"><meta property="article:modified_time" content="2023-05-02T19:18:14+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://clearsky.me/logo.png"><meta name=twitter:title content="VPS 压力测试工具 siege 和 httpbench"><meta name=twitter:description content="VPS 压力测试工具s iege 和 httpbench"><meta name=application-name content="晴空小筑"><meta name=apple-mobile-web-app-title content="晴空小筑"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://clearsky.me/webserver-test/><link rel=prev href=https://clearsky.me/learn-to-drive/><link rel=next href=https://clearsky.me/move-to-bandwagonhost/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://unpkg.com/@fortawesome/fontawesome-free@6.2.0/css/all.min.css><link rel=stylesheet href=https://unpkg.com/animate.css@4.1.1/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"VPS 压力测试工具 siege 和 httpbench","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/clearsky.me\/webserver-test\/"},"genre":"posts","keywords":"httpbench, siege, VPS","wordcount":1803,"url":"https:\/\/clearsky.me\/webserver-test\/","datePublished":"2014-07-12T11:58:21+00:00","dateModified":"2023-05-02T19:18:14+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"u0defined"},"description":"VPS 压力测试工具s iege 和 httpbench"}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><script>function randomPost(){fetch("/sitemap.xml").then(e=>e.text()).then(e=>(new window.DOMParser).parseFromString(e,"text/xml")).then(e=>{let s=e.querySelectorAll("url loc"),n,t;do n=s[Math.floor(Math.random()*s.length)].innerHTML,t=n.split("/")[3]||"";while(t==""||t=="tags"||t=="posts"||t=="categories")location.href=n})}function tofullScreen(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".ai-explanation-content").textContent;new TypeIt("#ai-explanation",{strings:e,speed:50,lifeLike:!0,waitUntilVisible:!0}).go()})</script><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/ title=晴空小筑><span class=header-title-pre><i class='fas fa-code'></i> </span><span id=typeit-header-desktop class=typeit></span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/><i class='fas fa-home'></i> 首页</a></li><li class=menu-item><a class=menu-link href=/posts><i class='fas fa-clock'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/tags><i class='fas fa-tags'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/categories/><i class='fas fa-book'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/about><i class='fas fa-user-tie'></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=在这里搜索一下... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class=menu-item><a class='fa-solid fa-expand' href=javascript:; onclick=tofullScreen() title=全屏阅读></a></li><li class=menu-item><a class='fa-regular fa-thumbs-up fa-bounce' href=javascript:; onclick=randomPost() title=随机访问一篇文章></a></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=晴空小筑><span class=header-title-pre><i class='fas fa-code'></i> </span><span id=typeit-header-title-mobile class=typeit></span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=在这里搜索一下... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/><i class='fas fa-home'></i> 首页</a></li><li class=menu-item><a class=menu-link href=/posts><i class='fas fa-clock'></i> 文章</a></li><li class=menu-item><a class=menu-link href=/tags><i class='fas fa-tags'></i> 标签</a></li><li class=menu-item><a class=menu-link href=/categories/><i class='fas fa-book'></i> 分类</a></li><li class=menu-item><a class=menu-link href=/about><i class='fas fa-user-tie'></i> 关于</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=/ title=晴空小筑>主页</a></li><li class=breadcrumb-item><a href=/posts/ title=文章>文章</a></li><li class="breadcrumb-item active" aria-current=page>VPS 压力测试工具 siege 和 httpbench</li></ol></nav><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>VPS 压力测试工具 siege 和 httpbench</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=http://clearsky.me/ title=作者 target=_blank rel="external nofollow noopener noreferrer author" class=author><img loading=lazy src="https://gravatar.loli.net/avatar/e99a2f3e251df360c9ec3b2e50648c15?s=32&amp;d=mp" srcset="https://gravatar.loli.net/avatar/e99a2f3e251df360c9ec3b2e50648c15?s=32&amp;d=mp, https://gravatar.loli.net/avatar/e99a2f3e251df360c9ec3b2e50648c15?s=32&amp;d=mp 1.5x, https://gravatar.loli.net/avatar/e99a2f3e251df360c9ec3b2e50648c15?s=32&amp;d=mp 2x" sizes=auto data-title=u0defined data-alt=u0defined class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;u0defined</a></span>
<span class=post-category>收录于 <a href=/categories/%E5%AD%A6%E4%B9%A0%E5%A4%87%E5%BF%98/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> 学习备忘</a></span></div><div class=post-meta-line><span title="发布于 2014-07-12 11:58:21"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2014-07-12>2014-07-12</time></span>&nbsp;<span title="更新于 2023-05-02 19:18:14"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2023-05-02>2023-05-02</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 1803 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 4 分钟</span>&nbsp;<span id=/webserver-test/ class=comment-visitors data-flag-title="VPS 压力测试工具 siege 和 httpbench">
<i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=twikoo_visitors>-</span>&nbsp;次阅读
</span>&nbsp;<span id=/webserver-test/ class=comment-count data-flag-title="VPS 压力测试工具 siege 和 httpbench">
<i class="fa-regular fa-comments fa-fw me-1" aria-hidden=true></i><span id=twikoo-comment-count>-</span>&nbsp;条评论
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#闲>闲</a></li><li><a href=#siege>Siege</a><ul><li><a href=#下载安装>下载安装</a></li><li><a href=#参数设置>参数设置</a></li><li><a href=#测试一下>测试一下</a></li></ul></li><li><a href=#httpbench>Httpbench</a><ul><li><a href=#下载解压>下载解压</a></li><li><a href=#进入目录并安装>进入目录并安装</a></li><li><a href=#完成后测试>完成后测试</a></li></ul></li><li><a href=#结束小小小小小总结>结束小小小小小总结</a></li></ul></nav></div></div><div class=post-ai><div class=ai-title><i class="fas fa-robot ai-title-icon"></i><div class=ai-title-text>AI 摘要</div></div><div id=ai-explanation class=ai-explanation></div><div class="ai-explanation ai-explanation-content" style=display:none>本文介绍了 VPS 压力测试工具 siege 和 httpbench 的使用方法。作者首先介绍了 siege 的安装步骤，并给出了一些常用参数的示例。然后，作者进行了两次不同程度的压力测试，并记录下了各项指标数据。接着，作者介绍了 httpbench 工具的下载和安装过程，并展示了运行结果。最后，文章总结并结束。</div></div><div class=content id=content data-end-flag=" ------------- 文章结束，感谢您的阅读。 ------------- "><h2 id=闲>闲</h2><p>闲得没事对所用VPS来个压力测试。现在所用的VPS是去年年付的一个，配置挺低的：</p><p>内存256MB且无突发，硬盘30G，月流量500G，操作系统ubuntu 13.10 32bit。</p><p>一般常用压力测试用的软件是webbench或者是http_load，我以前也用过，这两个网上一搜一大堆文章。这次懒得用了，换其它的试试玩玩。用的是siege和HttpBench，记录一下:</p><h2 id=siege>Siege</h2><p>Sigeg官方主页：<a href=http://www.joedog.org/siege-home/ target=_blank rel="external nofollow noopener noreferrer">http://www.joedog.org/siege-home/<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><p>官方说明：直接引用官方一堆蝌蚪文~</p><blockquote><p>What Is It?</p><p>Siege is an open source stress / regression test and benchmark utility. It can stress a single URL with a user defined number of simulated users or it can read many URLs into memory and stress them simultaneously. The program reports the total number of hits recorded, bytes transferred, response time, concurrency, and return status. Most features are configurable with command line options which also include default values to minimize the complexity of the program’s invocation. Siege allows you to stress a web server with n number of users t number of times, where n and t are defined by the user. It records the duration time of the test as well as the duration of each single transaction. It reports the number of transactions, elapsed time, bytes transferred, response time, transaction rate, concurrency and the number of times the server responded OK, that is status code 200. Siege was designed and implemented by Jeffrey Fulmer in his position as Webmaster for Armstrong World Industries. It was modeled in part after Lincoln Stein’s torture.pl and it’s data reporting is almost identical. But torture.pl does not allow one to stress many URLs simultaneously; out of that need siege was born… When a httpd server is being hit by the program, it is said to be “under siege.”</p></blockquote><p>最新版本下载地址：<a href=http://download.joedog.org/siege/siege-latest.tar.gz target=_blank rel="external nofollow noopener noreferrer">http://download.joedog.org/siege/siege-latest.tar.gz<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><h3 id=下载安装>下载安装</h3><p>root登陆vps，然后</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkdir tools
</span></span><span class=line><span class=cl><span class=nb>cd</span> tools
</span></span><span class=line><span class=cl><span class=c1>#还是建个tools目录放这些东西好一点</span>
</span></span></code></pre></td></tr></table></div></div><p>#下载并解压</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>wget http://download.joedog.org/siege/siege-latest.tar.gz
</span></span><span class=line><span class=cl>tar zxvf siege-latest.tar.gz
</span></span></code></pre></td></tr></table></div></div><p>这个时候可以输入个<code>ls</code>命令查看目录，最新的版本是3.0.6,于是</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> siege-3.0.6
</span></span><span class=line><span class=cl>./configure
</span></span><span class=line><span class=cl>make <span class=o>&amp;&amp;</span> make installl
</span></span><span class=line><span class=cl><span class=c1>#进入siege-3.0.6目录并编译安装</span>
</span></span></code></pre></td></tr></table></div></div><p>没什么问题的话完成后就会出现siege的各种参数使用说明。</p><h3 id=参数设置>参数设置</h3><p>除了看上面完成后的参数设置按常规还可以输入<code>siege -h</code>来查看。</p><p>测试命令：<code>siege [options] URL</code></p><p><code>[options]</code>是各种参数，一般会用到:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>-c  //并发数，默认是10。
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-t  //测试时间，单位是分钟，-t 10表示持续10分钟。
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-f  //对应内容为一行一个url的文件来测试。
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-r  //重复次数。
</span></span></code></pre></td></tr></table></div></div><p>更多用法详见参数，<code>siege -h</code></p><p><code>URL</code>就是需要测试的ip地址，对应域名也可以。</p><h3 id=测试一下>测试一下</h3><p>先温柔点：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>siege https://clearsky.me -c <span class=m>100</span> -t <span class=m>3</span>    <span class=c1>#并发数100，持续3分钟</span>
</span></span></code></pre></td></tr></table></div></div><p>实时感受，打开网站基本没什么变化,没明显感觉慢，最后完成后出现了个：</p><blockquote><p>[error]unable to create log file: No such file or directory</p></blockquote><p>如果出现这个问题直接在<code>/usr/local</code>目录下新建个<code>var</code>目录就可以了，</p><p>结果输出：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Transactions:		        <span class=m>1508</span> hits         //总共完成处理次数
</span></span><span class=line><span class=cl>Availability:		        100.00 %          //成功率
</span></span><span class=line><span class=cl>Elapsed time:		        179.91 secs       //总耗时
</span></span><span class=line><span class=cl>Data transferred:	        5.01 MB           //总共传输数据大小
</span></span><span class=line><span class=cl>Response time:		        10.98 secs        //响应时间
</span></span><span class=line><span class=cl>Transaction rate:	        8.38 trans/sec    //平均每秒处理次数
</span></span><span class=line><span class=cl>Throughput:		        0.03 MB/sec       //每秒传输数据大小
</span></span><span class=line><span class=cl>Concurrency:		        92.05             //最高并发数
</span></span><span class=line><span class=cl>Successful transactions:        <span class=m>1508</span>              //成功次数
</span></span><span class=line><span class=cl>Failed transactions:	        <span class=m>0</span>                 //失败次数
</span></span><span class=line><span class=cl>Longest transaction:	        12.59             //每次最长时间
</span></span><span class=line><span class=cl>Shortest transaction:	        0.72              //每次最短时间
</span></span></code></pre></td></tr></table></div></div><p>加重一点：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>siege https://clearsky.me -c <span class=m>500</span> -t <span class=m>5</span>    <span class=c1>#并发数500，持续5分钟</span>
</span></span></code></pre></td></tr></table></div></div><p>出现：</p><blockquote><p>[fatal] unable to allocate memory for 500 simulated browser: Cannot allocate memory</p></blockquote><p>搜索了一下：找到这样解释：via:<a href=http://www.iteye.com/topic/1123465 target=_blank rel="external nofollow noopener noreferrer">Siege使用笔记<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><blockquote><p>性能测试过程中，当并发数达到一定情况下可能会遇到“FATAL: unable to allocate memory for ** simulated browser: Cannot allocate memory”类似错误，这是由于linux系统配置限制导致的，可通过"ulimit -a"查看, 修改参数来进行调试（但总会受限于硬件设备）</p></blockquote><p>于是我减小到300，感觉打开已经很慢了，卡卡的，测试结果如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Transactions:		        <span class=m>174</span> hits        //总共完成处理次数    
</span></span><span class=line><span class=cl>Availability:		        12.86 %         //成功率
</span></span><span class=line><span class=cl>Elapsed time:		        20.96 secs      //总耗时
</span></span><span class=line><span class=cl>Data transferred:	        0.76 MB         //总共传输数据大小
</span></span><span class=line><span class=cl>Response time:		        10.76 secs      //响应时间
</span></span><span class=line><span class=cl>Transaction rate:	        8.30 trans/sec  //平均每秒处理次数
</span></span><span class=line><span class=cl>Throughput:		        0.04 MB/sec     //每秒传输数据大小
</span></span><span class=line><span class=cl>Concurrency:		        89.34           //最高并发数
</span></span><span class=line><span class=cl>Successful transactions:        <span class=m>174</span>             //成功次数
</span></span><span class=line><span class=cl>Failed transactions:	        <span class=m>1179</span>            //失败次数
</span></span><span class=line><span class=cl>Longest transaction:	        17.88           //每次最长时间
</span></span><span class=line><span class=cl>Shortest transaction:	        0.02            //每次最短时间
</span></span></code></pre></td></tr></table></div></div><h2 id=httpbench>Httpbench</h2><p>这个是我以前在hostloc上看到有人发的，挺小巧的，也相对简单。</p><p>官方地址：<a href=https://code.google.com/p/httpbench/ target=_blank rel="external nofollow noopener noreferrer">https://code.google.com/p/httpbench/<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><p>下载地址：<a href=https://httpbench.googlecode.com/files/httpbench-0.11.tar.gz target=_blank rel="external nofollow noopener noreferrer">https://httpbench.googlecode.com/files/httpbench-0.11.tar.gz<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><p>官方简单说明：</p><blockquote><p>Requirement:</p><p>linux with kernel 2.6 or higher</p><p>Install:</p><p>make && make install</p><p>Usage:</p><p>httpbench thread-numbers url</p></blockquote><p>先是下载安装，root登陆终端后：</p><h3 id=下载解压>下载解压</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>wget https://httpbench.googlecode.com/files/httpbench-0.11.tar.gz
</span></span><span class=line><span class=cl>tar zxvf httpbench-0.11.tar.gz
</span></span></code></pre></td></tr></table></div></div><p>然后：</p><h3 id=进入目录并安装>进入目录并安装</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> httpbench
</span></span><span class=line><span class=cl>make <span class=o>&amp;&amp;</span> make install
</span></span></code></pre></td></tr></table></div></div><h3 id=完成后测试>完成后测试</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>httpbench <span class=m>200</span> https://clearsky.me/    <span class=c1>#不要忘了后面的斜杠“/”</span>
</span></span></code></pre></td></tr></table></div></div><p>运行之后随时<code>Ctrl + C</code>终止，终止后就看到简单的数据：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>Speed</span><span class=o>=</span><span class=m>83323</span> pages/min, <span class=m>452984</span> bytes/sec.
</span></span><span class=line><span class=cl>Requests: <span class=m>45628</span> susceed, <span class=m>200</span> failed.
</span></span></code></pre></td></tr></table></div></div><h2 id=结束小小小小小总结>结束小小小小小总结</h2><p>话说 200 就搞得 nginx 挂了，我这 vps 得有多搓，好了，就到这了。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2023-05-02 19:18:14">更新于 2023-05-02&nbsp;<a class=git-hash href=https://github.com/nyancccat/hugo-blog-source/commit/1cecf53f53bfac0297e7f4e94676cf414cfbe328 rel="external nofollow noopener noreferrer" target=_blank title="commit by nyancccat(theqee@gmail.com) 1cecf53f53bfac0297e7f4e94676cf414cfbe328: update"><i class="fa-solid fa-hashtag fa-fw" aria-hidden=true></i>1cecf53</a></span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/webserver-test/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span><span><a href=https://github.com/nyancccat/hugo-blog-source/edit/master/content/posts/20140712-VPS%e5%8e%8b%e5%8a%9b%e6%b5%8b%e8%af%95%e5%b7%a5%e5%85%b7siege%e5%92%8chttpbench/index.md title=编辑此页 target=_blank rel="external nofollow noopener noreferrer" class=link-to-edit>编辑此页</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://clearsky.me/webserver-test/ data-title="VPS 压力测试工具 siege 和 httpbench" data-hashtags=httpbench,siege,VPS><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://clearsky.me/webserver-test/ data-hashtag=httpbench><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 WhatsApp" data-sharer=whatsapp data-url=https://clearsky.me/webserver-test/ data-title="VPS 压力测试工具 siege 和 httpbench" data-web><i class="fa-brands fa-whatsapp fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=https://clearsky.me/webserver-test/ data-title="VPS 压力测试工具 siege 和 httpbench"><i data-svg-src=https://unpkg.com/simple-icons@7.12.0/icons/line.svg aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://clearsky.me/webserver-test/ data-title="VPS 压力测试工具 siege 和 httpbench"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Myspace" data-sharer=myspace data-url=https://clearsky.me/webserver-test/ data-title="VPS 压力测试工具 siege 和 httpbench" data-description="VPS 压力测试工具s iege 和 httpbench"><i data-svg-src=https://unpkg.com/simple-icons@7.12.0/icons/myspace.svg aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Blogger" data-sharer=blogger data-url=https://clearsky.me/webserver-test/ data-title="VPS 压力测试工具 siege 和 httpbench" data-description="VPS 压力测试工具s iege 和 httpbench"><i class="fa-brands fa-blogger fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://clearsky.me/webserver-test/ data-title="VPS 压力测试工具 siege 和 httpbench"><i class="fa-brands fa-evernote fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/httpbench/ class=post-tag>httpbench</a><a href=/tags/siege/ class=post-tag>siege</a><a href=/tags/vps/ class=post-tag>VPS</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/learn-to-drive/ class=post-nav-item rel=prev title=学车记><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>学车记</a>
<a href=/move-to-bandwagonhost/ class=post-nav-item rel=next title="搬家到 Bandwagonhost">搬家到 Bandwagonhost<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=twikoo></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://twikoo.js.org/ rel="external nofollow noopener noreferrer">Twikoo</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom"><span id=run-time></span></div><div class="footer-line powered order-1">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.115.4">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.18"><img class=fixit-icon src=/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a>
| 托管于 <a title="Github Pages" href=https://docs.github.com/en/pages/ target=_blank rel="noopener noreffer">GitHub Pages</a></div><div class="footer-line copyright order-2" itemscope itemtype=http://schema.org/CreativeWork><a href="https://ipw.cn/ssl/?site=clearsky.me" title=本站支持SSL安全访问 target=_blank class=icon_ip rel="noopener noreferrer">SSL</a>
<i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2009 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=http://clearsky.me/ target=_blank rel="external nofollow noopener noreferrer">u0defined</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a> <a href="https://ipw.cn/ipv6webcheck/?site=clearsky.me" title=本站支持IPv6访问 target=_blank class=icon_ip>IPv6</a></span></div><div class="footer-line statistics order-3"></div></div></footer><script>var meting_api="https://meting.yany.ml/api?server=:server&type=:type&id=:id&auth=:auth&r=:r"</script></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label=查看评论><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/nyancccat/ title="在 GitHub 上查看源代码" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=https://unpkg.com/lightgallery@2.6.1/css/lightgallery-bundle.min.css><link rel=stylesheet href=https://unpkg.com/katex@0.16.2/dist/katex.min.css><link rel=stylesheet href=https://unpkg.com/pace-js@1.2.4/themes/blue/pace-theme-minimal.css><script src=https://unpkg.com/twikoo@1.6.16/dist/twikoo.all.min.js defer></script><script src=https://unpkg.com/autocomplete.js@0.38.1/dist/autocomplete.min.js defer></script><script src=https://unpkg.com/fuse.js@6.6.2/dist/fuse.min.js defer></script><script src=https://unpkg.com/twemoji@14.0.2/dist/twemoji.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/lightgallery.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=https://unpkg.com/lightgallery@2.6.1/plugins/zoom/lg-zoom.min.js defer></script><script src=https://unpkg.com/sharer.js@0.5.1/sharer.min.js async defer></script><script src=https://unpkg.com/typeit@8.7.1/dist/index.umd.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/katex.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/auto-render.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/copy-tex.min.js defer></script><script src=https://unpkg.com/katex@0.16.2/dist/contrib/mhchem.min.js defer></script><script src=https://unpkg.com/pangu@4.0.7/dist/browser/pangu.min.js defer></script><script src=https://unpkg.com/pace-js@1.2.4/pace.min.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:80},comment:{enable:!0,expired:!1,twikoo:{commentCount:!0,el:"#twikoo",envId:"https://twikoo.clearsky.me/",lang:"zh-cn"}},data:{"typeit-header-desktop":"晴空小筑","typeit-header-title-mobile":"晴空小筑"},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},pangu:{enable:!0,selector:"article"},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!0,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:50,threshold:.3,type:"fuse",useExtendedSearch:!1},twemoji:!0,typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"typeit-header-desktop":["typeit-header-desktop"],"typeit-header-title-mobile":["typeit-header-title-mobile"]},duration:-1,loop:!1,speed:100}}</script><script src=/js/theme.min.js defer></script><script src=/js/custom.min.js defer></script></body></html>